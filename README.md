The code uses ESP32 with UART2 (pins 17 tx and 16 rx). An LED (pin 18) has also been setup, for confirmation for thr diag pin.
The diag pin is connected on pin 22. 
Microstepping, current control, stall guard and direction change all working and can be tested.
